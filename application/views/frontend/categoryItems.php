<style>
    .hidden {
        clip: rect(0 0 0 0);
        clip-path: inset(50%);
        height: 1px;
        overflow: hidden;
        position: absolute;
        white-space: nowrap;
        width: 1px;
    }

    .pagination button.active {
        background-color: #007bff;
        color: white;
    }
</style>

<div class="row justify-content-center row-gap-5 mb-5 insight_post__list">
    <article class="col-md-4 col-sm-6 hover-card">
        <div class="bg-darklight-100 position-relative ">
            <div class="card-grid-item__image">
                <figure class="card-grid-item__image-fit m-0">
                    <img width="100%" height="100%" loading="lazy" src="https://www.jefferies.com/wp-content/uploads/sites/4/2024/01/ESG-Nature-1.png" alt="">
                </figure>
            </div>
            <div class="card-grid-item__title-contain fs-20">
                <div class="card-grid-item__meta-cat mb-2">
                    <a href="" class="card-grid-item__meta-cat-text">The Big Picture</a>
                </div>
                <a href="" class="card-grid-item__title-link mb-2">
                    <h2 class="card-grid-item__title fw-500">What Will Drive India’s Growth for the Next 20 Years?</h2>
                </a>
                <p class="my-0 fs-18">According to Aashish Agarwal, the Jefferies country head, the country’s economy has undergone profound changes that are often not discussed or understood.</p>
            </div>
        </div>
    </article>

    <article class="col-md-4 col-sm-6 hover-card">
        <div class="bg-darklight-100 position-relative ">
            <div class="card-grid-item__image">
                <figure class="card-grid-item__image-fit m-0">
                    <img width="100%" height="100%" src="https://www.jefferies.com/wp-content/uploads/sites/4/2024/09/6b1be9a0-e07e-450f-b8e9-b6dea6a5ef5e.webp" alt="">
                </figure>
            </div>
            <div class="card-grid-item__title-contain fs-20">
                <div class="card-grid-item__meta-cat mb-2">
                    <a href="" class="card-grid-item__meta-cat-text">The Big Picture</a>
                </div>
                <a href="" class="card-grid-item__title-link mb-2">
                    <h2 class="card-grid-item__title fw-500">What Will Drive India’s Growth for the Next 20 Years?</h2>
                </a>
                <p class="my-0 fs-18">According to Aashish Agarwal, the Jefferies country head, the country’s economy has undergone profound changes that are often not discussed or understood.</p>
            </div>
        </div>
    </article>

    <article class="col-md-4 col-sm-6 hover-card">
        <div class="bg-darklight-100 position-relative ">
            <div class="card-grid-item__image">
                <figure class="card-grid-item__image-fit m-0">
                    <img width="100%" height="100%" src="https://omnicoreplus.com/assets/om-upload/Redressal_of_Consumer7.jpg" alt="">
                </figure>
            </div>
            <div class="card-grid-item__title-contain fs-20">
                <div class="card-grid-item__meta-cat mb-2">
                    <a href="" class="card-grid-item__meta-cat-text">The Big Picture</a>
                </div>
                <a href="" class="card-grid-item__title-link mb-2">
                    <h2 class="card-grid-item__title fw-500">What Will Drive India’s Growth for the Next 20 Years?</h2>
                </a>
                <p class="my-0 fs-18">According to Aashish Agarwal, the Jefferies country head, the country’s economy has undergone profound changes that are often not discussed or understood.</p>
            </div>
        </div>
    </article>
    <article class="col-md-4  hover-card col-sm-6">
        <div class="bg-darklight-100 position-relative">
            <div class="card-grid-item__image">
                <figure class="card-grid-item__image-fit m-0">
                    <img width="100%" height="100%" loading="lazy" class="lazy" src="https://omnicoreplus.com/assets/om-upload/solar_plant3.JPG" alt="">
                </figure>
            </div>
            <div class="card-grid-item__title-contain fs-20">
                <div class="card-grid-item__meta-cat mb-2">
                    <a href="" class="card-grid-item__meta-cat-text">New Energies & Sustainability</a>
                </div>
                <a href="" class="card-grid-item__title-link mb-2">
                    <h2 class="card-grid-item__title fw-500">What Will Drive India’s Growth for the Next 20 Years?</h2>
                </a>
                <p class="my-0 fs-18">Based on the consent of the parties, the hearing of the petition was adjourned. The parties are directed to complete their pleadings by 25.10.2024, if not done earlier.</p>
            </div>
        </div>
    </article>
    <article class="col-md-4  hover-card col-sm-6">
        <div class="bg-darklight-100 position-relative">
            <div class="card-grid-item__image">
                <figure class="card-grid-item__image-fit m-0">
                    <img width="100%" height="100%" loading="lazy" class="lazy" src="https://insights-api.jefferies.com/wp-content/uploads/2024/09/f4b912a2-af15-4b4d-b993-67fec2c881d9.jpg?w=750&q=75" alt="">
                </figure>
            </div>
            <div class="card-grid-item__title-contain fs-20">
                <div class="card-grid-item__meta-cat mb-2">
                    <a href="" class="card-grid-item__meta-cat-text">The Big Picture</a>
                </div>
                <a href="" class="card-grid-item__title-link mb-2">
                    <h2 class="card-grid-item__title fw-500">What Will Drive India’s Growth for the Next 20 Years?</h2>
                </a>
                <p class="my-0 fs-18">According to Aashish Agarwal, the Jefferies country head, the country’s economy has undergone profound changes that are often not discussed or understood.</p>
            </div>
        </div>
    </article>
    <article class="col-md-4 col-sm-6 hover-card">
        <div class="bg-darklight-100 position-relative ">
            <div class="card-grid-item__image">
                <figure class="card-grid-item__image-fit m-0">
                    <img width="100%" height="100%" loading="lazy" class="lazy" src="https://www.jefferies.com/wp-content/uploads/sites/4/2024/01/Proxy-Card-1.jpg" alt="">
                </figure>
            </div>
            <div class="card-grid-item__title-contain fs-20">
                <div class="card-grid-item__meta-cat mb-2">
                    <a href="" class="card-grid-item__meta-cat-text">The Big Picture</a>
                </div>
                <a href="" class="card-grid-item__title-link mb-2">
                    <h2 class="card-grid-item__title fw-500">What Will Drive India’s Growth for the Next 20 Years?</h2>
                </a>
                <p class="my-0 fs-18">According to Mahesh Agarwal, the Jefferies country head, the country’s economy has undergone profound changes that are often not discussed or understood.</p>
            </div>
        </div>
    </article>
    <article class="col-md-4 col-sm-6 hover-card">
        <div class="bg-darklight-100 position-relative ">
            <div class="card-grid-item__image">
                <figure class="card-grid-item__image-fit m-0">
                    <img width="100%" height="100%" loading="lazy" src="https://www.jefferies.com/wp-content/uploads/sites/4/2024/01/ESG-Nature-1.png" alt="">
                </figure>
            </div>
            <div class="card-grid-item__title-contain fs-20">
                <div class="card-grid-item__meta-cat mb-2">
                    <a href="" class="card-grid-item__meta-cat-text">The Big Picture</a>
                </div>
                <a href="" class="card-grid-item__title-link mb-2">
                    <h2 class="card-grid-item__title fw-500">What Will Drive India’s Growth for the Next 20 Years?</h2>
                </a>
                <p class="my-0 fs-18">According to Aashish Agarwal, the Jefferies country head, the country’s economy has undergone profound changes that are often not discussed or understood.</p>
            </div>
        </div>
    </article>

    <article class="col-md-4 col-sm-6 hover-card">
        <div class="bg-darklight-100 position-relative ">
            <div class="card-grid-item__image">
                <figure class="card-grid-item__image-fit m-0">
                    <img width="100%" height="100%" src="https://www.jefferies.com/wp-content/uploads/sites/4/2024/09/6b1be9a0-e07e-450f-b8e9-b6dea6a5ef5e.webp" alt="">
                </figure>
            </div>
            <div class="card-grid-item__title-contain fs-20">
                <div class="card-grid-item__meta-cat mb-2">
                    <a href="" class="card-grid-item__meta-cat-text">The Big Picture</a>
                </div>
                <a href="" class="card-grid-item__title-link mb-2">
                    <h2 class="card-grid-item__title fw-500">What Will Drive India’s Growth for the Next 20 Years?</h2>
                </a>
                <p class="my-0 fs-18">According to Aashish Agarwal, the Jefferies country head, the country’s economy has undergone profound changes that are often not discussed or understood.</p>
            </div>
        </div>
    </article>

    <article class="col-md-4 col-sm-6 hover-card">
        <div class="bg-darklight-100 position-relative ">
            <div class="card-grid-item__image">
                <figure class="card-grid-item__image-fit m-0">
                    <img width="100%" height="100%" src="https://omnicoreplus.com/assets/om-upload/Redressal_of_Consumer7.jpg" alt="">
                </figure>
            </div>
            <div class="card-grid-item__title-contain fs-20">
                <div class="card-grid-item__meta-cat mb-2">
                    <a href="" class="card-grid-item__meta-cat-text">The Big Picture</a>
                </div>
                <a href="" class="card-grid-item__title-link mb-2">
                    <h2 class="card-grid-item__title fw-500">What Will Drive India’s Growth for the Next 20 Years?</h2>
                </a>
                <p class="my-0 fs-18">According to Aashish Agarwal, the Jefferies country head, the country’s economy has undergone profound changes that are often not discussed or understood.</p>
            </div>
        </div>
    </article>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const content = document.querySelector('.insight_post__list');
        const itemsPerPage = 2;
        let currentPage = 0;
        const items = Array.from(content.getElementsByTagName("article")).slice(0)
        console.log(items);

        function showPage(page) {
            const startIndex = page * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            items.forEach((item, idx) => {
                item.classList.toggle("hidden", idx < startIndex || idx >= endIndex)
            })
            updateActiveButtonStates()
        }

        function createPageButtonStates() {
            const totalPage = Math.ceil(items.length / itemsPerPage)

            const paginationContainer = document.createElement("ul")

            const paginationDiv = document.body.appendChild(paginationContainer)

            paginationContainer.classList.add('pagination');
            paginationContainer.classList.add('d-flex');
            paginationContainer.classList.add('justify-content-center');
            paginationContainer.classList.add('cursor-pointer')

            for (let i = 0; i < totalPage; i++) {
                const pageButton = document.createElement('li');
                pageButton.classList.add("page-link")
                pageButton.classList.add("page-item")


                pageButton.textContent = i + 1;
                pageButton.addEventListener("click", function() {
                    currentPage = i;
                    showPage(currentPage)
                    updateActiveButtonStates()
                })
                content.appendChild(paginationContainer)
                paginationDiv.appendChild(pageButton)
            }
        }

        function updateActiveButtonStates() {
            const pageButtons = document.querySelectorAll('.pagination li')
            pageButtons.forEach((button, btnIdx) => {
                if (btnIdx === currentPage) {
                    button.classList.add('active')
                } else {
                    button.classList.remove('active')
                }
            })
        }

        createPageButtonStates();

        showPage(currentPage);

    })
</script>